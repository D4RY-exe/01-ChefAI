<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title id="head-title">tests_report.html</title>
      <style type="text/css">body {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  /* do not increase min-width as some may use split screens */
  min-width: 800px;
  color: #999;
}

h1 {
  font-size: 24px;
  color: black;
}

h2 {
  font-size: 16px;
  color: black;
}

p {
  color: black;
}

a {
  color: #999;
}

table {
  border-collapse: collapse;
}

/******************************
 * SUMMARY INFORMATION
 ******************************/
#environment td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  vertical-align: top;
}
#environment tr:nth-child(odd) {
  background-color: #f6f6f6;
}
#environment ul {
  margin: 0;
  padding: 0 20px;
}

/******************************
 * TEST RESULT COLORS
 ******************************/
span.passed,
.passed .col-result {
  color: green;
}

span.skipped,
span.xfailed,
span.rerun,
.skipped .col-result,
.xfailed .col-result,
.rerun .col-result {
  color: orange;
}

span.error,
span.failed,
span.xpassed,
.error .col-result,
.failed .col-result,
.xpassed .col-result {
  color: red;
}

.col-links__extra {
  margin-right: 3px;
}

/******************************
 * RESULTS TABLE
 *
 * 1. Table Layout
 * 2. Extra
 * 3. Sorting items
 *
 ******************************/
/*------------------
 * 1. Table Layout
 *------------------*/
#results-table {
  border: 1px solid #e6e6e6;
  color: #999;
  font-size: 12px;
  width: 100%;
}
#results-table th,
#results-table td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  text-align: left;
}
#results-table th {
  font-weight: bold;
}

/*------------------
 * 2. Extra
 *------------------*/
.logwrapper {
  max-height: 230px;
  overflow-y: scroll;
  background-color: #e6e6e6;
}
.logwrapper.expanded {
  max-height: none;
}
.logwrapper.expanded .logexpander:after {
  content: "collapse [-]";
}
.logwrapper .logexpander {
  z-index: 1;
  position: sticky;
  top: 10px;
  width: max-content;
  border: 1px solid;
  border-radius: 3px;
  padding: 5px 7px;
  margin: 10px 0 10px calc(100% - 80px);
  cursor: pointer;
  background-color: #e6e6e6;
}
.logwrapper .logexpander:after {
  content: "expand [+]";
}
.logwrapper .logexpander:hover {
  color: #000;
  border-color: #000;
}
.logwrapper .log {
  min-height: 40px;
  position: relative;
  top: -50px;
  height: calc(100% + 50px);
  border: 1px solid #e6e6e6;
  color: black;
  display: block;
  font-family: "Courier New", Courier, monospace;
  padding: 5px;
  padding-right: 80px;
  white-space: pre-wrap;
}

div.media {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin: 0 5px;
  overflow: hidden;
  width: 320px;
}

.media-container {
  display: grid;
  grid-template-columns: 25px auto 25px;
  align-items: center;
  flex: 1 1;
  overflow: hidden;
  height: 200px;
}

.media-container--fullscreen {
  grid-template-columns: 0px auto 0px;
}

.media-container__nav--right,
.media-container__nav--left {
  text-align: center;
  cursor: pointer;
}

.media-container__viewport {
  cursor: pointer;
  text-align: center;
  height: inherit;
}
.media-container__viewport img,
.media-container__viewport video {
  object-fit: cover;
  width: 100%;
  max-height: 100%;
}

.media__name,
.media__counter {
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  flex: 0 0 25px;
  align-items: center;
}

.collapsible td:not(.col-links) {
  cursor: pointer;
}
.collapsible td:not(.col-links):hover::after {
  color: #bbb;
  font-style: italic;
  cursor: pointer;
}

.col-result {
  width: 130px;
}
.col-result:hover::after {
  content: " (hide details)";
}

.col-result.collapsed:hover::after {
  content: " (show details)";
}

#environment-header h2:hover::after {
  content: " (hide details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

#environment-header.collapsed h2:hover::after {
  content: " (show details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

/*------------------
 * 3. Sorting items
 *------------------*/
.sortable {
  cursor: pointer;
}
.sortable.desc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: -12.5px;
  border: 10px solid #4caf50;
  border-bottom: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}
.sortable.asc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: 12.5px;
  border: 10px solid #4caf50;
  border-top: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}

.hidden, .summary__reload__button.hidden {
  display: none;
}

.summary__data {
  flex: 0 0 550px;
}
.summary__reload {
  flex: 1 1;
  display: flex;
  justify-content: center;
}
.summary__reload__button {
  flex: 0 0 300px;
  display: flex;
  color: white;
  font-weight: bold;
  background-color: #4caf50;
  text-align: center;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
}
.summary__reload__button:hover {
  background-color: #46a049;
}
.summary__spacer {
  flex: 0 0 550px;
}

.controls {
  display: flex;
  justify-content: space-between;
}

.filters,
.collapse {
  display: flex;
  align-items: center;
}
.filters button,
.collapse button {
  color: #999;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: underline;
}
.filters button:hover,
.collapse button:hover {
  color: #ccc;
}

.filter__label {
  margin-right: 10px;
}

      </style>
    
  </head>
  <body>
    <h1 id="title">tests_report.html</h1>
    <p>Report generated on 16-Apr-2025 at 00:53:23 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a>
        v4.1.1</p>
    <div id="environment-header">
      <h2>Environment</h2>
    </div>
    <table id="environment"></table>
    <!-- TEMPLATES -->
      <template id="template_environment_row">
      <tr>
        <td></td>
        <td></td>
      </tr>
    </template>
    <template id="template_results-table__body--empty">
      <tbody class="results-table-row">
        <tr id="not-found-message">
          <td colspan="4">No results found. Check the filters.</th>
        </tr>
    </template>
    <template id="template_results-table__tbody">
      <tbody class="results-table-row">
        <tr class="collapsible">
        </tr>
        <tr class="extras-row">
          <td class="extra" colspan="4">
            <div class="extraHTML"></div>
            <div class="media">
              <div class="media-container">
                  <div class="media-container__nav--left"><</div>
                  <div class="media-container__viewport">
                    <img src="" />
                    <video controls>
                      <source src="" type="video/mp4">
                    </video>
                  </div>
                  <div class="media-container__nav--right">></div>
                </div>
                <div class="media__name"></div>
                <div class="media__counter"></div>
            </div>
            <div class="logwrapper">
              <div class="logexpander"></div>
              <div class="log"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </template>
    <!-- END TEMPLATES -->
    <div class="summary">
      <div class="summary__data">
        <h2>Summary</h2>
        <div class="additional-summary prefix">
        </div>
        <p class="run-count">30 tests took 00:00:14.</p>
        <p class="filter">(Un)check the boxes to filter the results.</p>
        <div class="summary__reload">
          <div class="summary__reload__button hidden" onclick="location.reload()">
            <div>There are still tests running. <br />Reload this page to get the latest results!</div>
          </div>
        </div>
        <div class="summary__spacer"></div>
        <div class="controls">
          <div class="filters">
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="failed" />
            <span class="failed">3 Failed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="passed" />
            <span class="passed">27 Passed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="skipped" disabled/>
            <span class="skipped">0 Skipped,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xfailed" disabled/>
            <span class="xfailed">0 Expected failures,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xpassed" disabled/>
            <span class="xpassed">0 Unexpected passes,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="error" disabled/>
            <span class="error">0 Errors,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="rerun" disabled/>
            <span class="rerun">0 Reruns</span>
          </div>
          <div class="collapse">
            <button id="show_all_details">Show all details</button>&nbsp;/&nbsp;<button id="hide_all_details">Hide all details</button>
          </div>
        </div>
      </div>
      <div class="additional-summary summary">
      </div>
      <div class="additional-summary postfix">
      </div>
    </div>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable" data-column-type="result">Result</th>
          <th class="sortable" data-column-type="testId">Test</th>
          <th class="sortable" data-column-type="duration">Duration</th>
          <th>Links</th>
        </tr>
      </thead>
    </table>
  </body>
  <footer>
    <div id="data-container" data-jsonblob="{&#34;environment&#34;: {&#34;Python&#34;: &#34;3.10.12&#34;, &#34;Platform&#34;: &#34;Linux-5.15.167.4-microsoft-standard-WSL2-x86_64-with-glibc2.35&#34;, &#34;Packages&#34;: {&#34;pytest&#34;: &#34;8.3.5&#34;, &#34;pluggy&#34;: &#34;1.5.0&#34;}, &#34;Plugins&#34;: {&#34;cov&#34;: &#34;6.1.1&#34;, &#34;langsmith&#34;: &#34;0.3.18&#34;, &#34;metadata&#34;: &#34;3.1.1&#34;, &#34;html&#34;: &#34;4.1.1&#34;, &#34;django&#34;: &#34;4.11.1&#34;, &#34;anyio&#34;: &#34;4.9.0&#34;}}, &#34;tests&#34;: {&#34;chef_ai/tests/forms/test_ingredient_form.py::testIngredientListForm::test_choices_and_fields_are_dynamic_in_ingredient_list_form&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/forms/test_ingredient_form.py::testIngredientListForm::test_choices_and_fields_are_dynamic_in_ingredient_list_form&#34;, &#34;duration&#34;: &#34;190 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/forms/test_ingredient_form.py::testIngredientListForm::test_choices_and_fields_are_dynamic_in_ingredient_list_form&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;190 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nAdding field for Vegetable\nname of field added: VEGETABLE\nAdding field for Protein\nname of field added: PROTEIN\nAdding field for Fruit\nname of field added: FRUIT\n&#34;}], &#34;chef_ai/tests/forms/test_ingredient_form.py::testIngredientListForm::test_get_list_of_choices_from_Table&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/forms/test_ingredient_form.py::testIngredientListForm::test_get_list_of_choices_from_Table&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/forms/test_ingredient_form.py::testIngredientListForm::test_get_list_of_choices_from_Table&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n[&amp;#x27;Vegetable&amp;#x27;, &amp;#x27;Protein&amp;#x27;, &amp;#x27;Fruit&amp;#x27;]\n&#34;}], &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_invalid_email&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_invalid_email&#34;, &#34;duration&#34;: &#34;11 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_invalid_email&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;11 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_missing_fields&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_missing_fields&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_missing_fields&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_password_mismatch&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_password_mismatch&#34;, &#34;duration&#34;: &#34;4 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_password_mismatch&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;4 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_valid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_valid&#34;, &#34;duration&#34;: &#34;364 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/forms/test_user_registration_form.py::UserRegistrationFormTest::test_user_registration_form_valid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;364 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nError: \n&#34;}], &#34;chef_ai/tests/models/test_models.py::IngredientModelTest::test_ingredient_creation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/models/test_models.py::IngredientModelTest::test_ingredient_creation&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/models/test_models.py::IngredientModelTest::test_ingredient_creation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nSuccess test ingredients insert\n&#34;}], &#34;chef_ai/tests/views/test_download_jpg.py::DownloadJPGTest::test_download_jpg_no_ai_response&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_download_jpg.py::DownloadJPGTest::test_download_jpg_no_ai_response&#34;, &#34;duration&#34;: &#34;36 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_download_jpg.py::DownloadJPGTest::test_download_jpg_no_ai_response&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;36 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nlist_of_recipes view was hit []\n&#34;}], &#34;chef_ai/tests/views/test_download_jpg.py::DownloadJPGTest::test_download_jpg_with_ai_response&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_download_jpg.py::DownloadJPGTest::test_download_jpg_with_ai_response&#34;, &#34;duration&#34;: &#34;30 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_download_jpg.py::DownloadJPGTest::test_download_jpg_with_ai_response&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;30 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nResponse type: &amp;lt;class &amp;#x27;django.http.response.FileResponse&amp;#x27;&amp;gt;\n&#34;}], &#34;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_no_ai_response&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_no_ai_response&#34;, &#34;duration&#34;: &#34;7 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_no_ai_response&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;7 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\nlist_of_recipes view was hit []\n&#34;}], &#34;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_two_pages_long&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_two_pages_long&#34;, &#34;duration&#34;: &#34;21 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_two_pages_long&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;21 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n{&amp;#x27;Title&amp;#x27;: &amp;#x27;Delicious Pasta&amp;#x27;, &amp;#x27;Cuisine&amp;#x27;: &amp;#x27;Italian&amp;#x27;, &amp;#x27;Ingredients&amp;#x27;: [&amp;#x27;Pasta&amp;#x27;, &amp;#x27;Tomato Sauce&amp;#x27;, &amp;#x27;Basil&amp;#x27;], &amp;#x27;Steps&amp;#x27;: [&amp;#x27;Step 0\\n&amp;#x27;, &amp;#x27;Step 1\\n&amp;#x27;, &amp;#x27;Step 2\\n&amp;#x27;, &amp;#x27;Step 3\\n&amp;#x27;, &amp;#x27;Step 4\\n&amp;#x27;, &amp;#x27;Step 5\\n&amp;#x27;, &amp;#x27;Step 6\\n&amp;#x27;, &amp;#x27;Step 7\\n&amp;#x27;, &amp;#x27;Step 8\\n&amp;#x27;, &amp;#x27;Step 9\\n&amp;#x27;, &amp;#x27;Step 10\\n&amp;#x27;, &amp;#x27;Step 11\\n&amp;#x27;, &amp;#x27;Step 12\\n&amp;#x27;, &amp;#x27;Step 13\\n&amp;#x27;, &amp;#x27;Step 14\\n&amp;#x27;, &amp;#x27;Step 15\\n&amp;#x27;, &amp;#x27;Step 16\\n&amp;#x27;, &amp;#x27;Step 17\\n&amp;#x27;, &amp;#x27;Step 18\\n&amp;#x27;, &amp;#x27;Step 19\\n&amp;#x27;, &amp;#x27;Step 20\\n&amp;#x27;, &amp;#x27;Step 21\\n&amp;#x27;, &amp;#x27;Step 22\\n&amp;#x27;, &amp;#x27;Step 23\\n&amp;#x27;, &amp;#x27;Step 24\\n&amp;#x27;, &amp;#x27;Step 25\\n&amp;#x27;, &amp;#x27;Step 26\\n&amp;#x27;, &amp;#x27;Step 27\\n&amp;#x27;, &amp;#x27;Step 28\\n&amp;#x27;, &amp;#x27;Step 29\\n&amp;#x27;, &amp;#x27;Step 30\\n&amp;#x27;, &amp;#x27;Step 31\\n&amp;#x27;, &amp;#x27;Step 32\\n&amp;#x27;, &amp;#x27;Step 33\\n&amp;#x27;, &amp;#x27;Step 34\\n&amp;#x27;, &amp;#x27;Step 35\\n&amp;#x27;, &amp;#x27;Step 36\\n&amp;#x27;, &amp;#x27;Step 37\\n&amp;#x27;, &amp;#x27;Step 38\\n&amp;#x27;, &amp;#x27;Step 39\\n&amp;#x27;, &amp;#x27;Step 40\\n&amp;#x27;, &amp;#x27;Step 41\\n&amp;#x27;, &amp;#x27;Step 42\\n&amp;#x27;, &amp;#x27;Step 43\\n&amp;#x27;, &amp;#x27;Step 44\\n&amp;#x27;, &amp;#x27;Step 45\\n&amp;#x27;, &amp;#x27;Step 46\\n&amp;#x27;, &amp;#x27;Step 47\\n&amp;#x27;, &amp;#x27;Step 48\\n&amp;#x27;, &amp;#x27;Step 49\\n&amp;#x27;, &amp;#x27;Step 50\\n&amp;#x27;, &amp;#x27;Step 51\\n&amp;#x27;, &amp;#x27;Step 52\\n&amp;#x27;, &amp;#x27;Step 53\\n&amp;#x27;, &amp;#x27;Step 54\\n&amp;#x27;, &amp;#x27;Step 55\\n&amp;#x27;, &amp;#x27;Step 56\\n&amp;#x27;, &amp;#x27;Step 57\\n&amp;#x27;, &amp;#x27;Step 58\\n&amp;#x27;, &amp;#x27;Step 59\\n&amp;#x27;, &amp;#x27;Step 60\\n&amp;#x27;, &amp;#x27;Step 61\\n&amp;#x27;, &amp;#x27;Step 62\\n&amp;#x27;, &amp;#x27;Step 63\\n&amp;#x27;, &amp;#x27;Step 64\\n&amp;#x27;, &amp;#x27;Step 65\\n&amp;#x27;, &amp;#x27;Step 66\\n&amp;#x27;, &amp;#x27;Step 67\\n&amp;#x27;, &amp;#x27;Step 68\\n&amp;#x27;, &amp;#x27;Step 69\\n&amp;#x27;, &amp;#x27;Step 70\\n&amp;#x27;, &amp;#x27;Step 71\\n&amp;#x27;, &amp;#x27;Step 72\\n&amp;#x27;, &amp;#x27;Step 73\\n&amp;#x27;, &amp;#x27;Step 74\\n&amp;#x27;, &amp;#x27;Step 75\\n&amp;#x27;, &amp;#x27;Step 76\\n&amp;#x27;, &amp;#x27;Step 77\\n&amp;#x27;, &amp;#x27;Step 78\\n&amp;#x27;, &amp;#x27;Step 79\\n&amp;#x27;, &amp;#x27;Step 80\\n&amp;#x27;, &amp;#x27;Step 81\\n&amp;#x27;, &amp;#x27;Step 82\\n&amp;#x27;, &amp;#x27;Step 83\\n&amp;#x27;, &amp;#x27;Step 84\\n&amp;#x27;, &amp;#x27;Step 85\\n&amp;#x27;, &amp;#x27;Step 86\\n&amp;#x27;, &amp;#x27;Step 87\\n&amp;#x27;, &amp;#x27;Step 88\\n&amp;#x27;, &amp;#x27;Step 89\\n&amp;#x27;, &amp;#x27;Step 90\\n&amp;#x27;, &amp;#x27;Step 91\\n&amp;#x27;, &amp;#x27;Step 92\\n&amp;#x27;, &amp;#x27;Step 93\\n&amp;#x27;, &amp;#x27;Step 94\\n&amp;#x27;, &amp;#x27;Step 95\\n&amp;#x27;, &amp;#x27;Step 96\\n&amp;#x27;, &amp;#x27;Step 97\\n&amp;#x27;, &amp;#x27;Step 98\\n&amp;#x27;, &amp;#x27;Step 99\\n&amp;#x27;, &amp;#x27;Step 100\\n&amp;#x27;, &amp;#x27;Step 101\\n&amp;#x27;, &amp;#x27;Step 102\\n&amp;#x27;, &amp;#x27;Step 103\\n&amp;#x27;, &amp;#x27;Step 104\\n&amp;#x27;, &amp;#x27;Step 105\\n&amp;#x27;, &amp;#x27;Step 106\\n&amp;#x27;, &amp;#x27;Step 107\\n&amp;#x27;, &amp;#x27;Step 108\\n&amp;#x27;, &amp;#x27;Step 109\\n&amp;#x27;, &amp;#x27;Step 110\\n&amp;#x27;, &amp;#x27;Step 111\\n&amp;#x27;, &amp;#x27;Step 112\\n&amp;#x27;, &amp;#x27;Step 113\\n&amp;#x27;, &amp;#x27;Step 114\\n&amp;#x27;, &amp;#x27;Step 115\\n&amp;#x27;, &amp;#x27;Step 116\\n&amp;#x27;, &amp;#x27;Step 117\\n&amp;#x27;, &amp;#x27;Step 118\\n&amp;#x27;, &amp;#x27;Step 119\\n&amp;#x27;, &amp;#x27;Step 120\\n&amp;#x27;, &amp;#x27;Step 121\\n&amp;#x27;, &amp;#x27;Step 122\\n&amp;#x27;, &amp;#x27;Step 123\\n&amp;#x27;, &amp;#x27;Step 124\\n&amp;#x27;, &amp;#x27;Step 125\\n&amp;#x27;, &amp;#x27;Step 126\\n&amp;#x27;, &amp;#x27;Step 127\\n&amp;#x27;, &amp;#x27;Step 128\\n&amp;#x27;, &amp;#x27;Step 129\\n&amp;#x27;, &amp;#x27;Step 130\\n&amp;#x27;, &amp;#x27;Step 131\\n&amp;#x27;, &amp;#x27;Step 132\\n&amp;#x27;, &amp;#x27;Step 133\\n&amp;#x27;, &amp;#x27;Step 134\\n&amp;#x27;, &amp;#x27;Step 135\\n&amp;#x27;, &amp;#x27;Step 136\\n&amp;#x27;, &amp;#x27;Step 137\\n&amp;#x27;, &amp;#x27;Step 138\\n&amp;#x27;, &amp;#x27;Step 139\\n&amp;#x27;, &amp;#x27;Step 140\\n&amp;#x27;, &amp;#x27;Step 141\\n&amp;#x27;, &amp;#x27;Step 142\\n&amp;#x27;, &amp;#x27;Step 143\\n&amp;#x27;, &amp;#x27;Step 144\\n&amp;#x27;, &amp;#x27;Step 145\\n&amp;#x27;, &amp;#x27;Step 146\\n&amp;#x27;, &amp;#x27;Step 147\\n&amp;#x27;, &amp;#x27;Step 148\\n&amp;#x27;, &amp;#x27;Step 149\\n&amp;#x27;, &amp;#x27;Step 150\\n&amp;#x27;, &amp;#x27;Step 151\\n&amp;#x27;, &amp;#x27;Step 152\\n&amp;#x27;, &amp;#x27;Step 153\\n&amp;#x27;, &amp;#x27;Step 154\\n&amp;#x27;, &amp;#x27;Step 155\\n&amp;#x27;, &amp;#x27;Step 156\\n&amp;#x27;, &amp;#x27;Step 157\\n&amp;#x27;, &amp;#x27;Step 158\\n&amp;#x27;, &amp;#x27;Step 159\\n&amp;#x27;, &amp;#x27;Step 160\\n&amp;#x27;, &amp;#x27;Step 161\\n&amp;#x27;, &amp;#x27;Step 162\\n&amp;#x27;, &amp;#x27;Step 163\\n&amp;#x27;, &amp;#x27;Step 164\\n&amp;#x27;, &amp;#x27;Step 165\\n&amp;#x27;, &amp;#x27;Step 166\\n&amp;#x27;, &amp;#x27;Step 167\\n&amp;#x27;, &amp;#x27;Step 168\\n&amp;#x27;, &amp;#x27;Step 169\\n&amp;#x27;, &amp;#x27;Step 170\\n&amp;#x27;, &amp;#x27;Step 171\\n&amp;#x27;, &amp;#x27;Step 172\\n&amp;#x27;, &amp;#x27;Step 173\\n&amp;#x27;, &amp;#x27;Step 174\\n&amp;#x27;, &amp;#x27;Step 175\\n&amp;#x27;, &amp;#x27;Step 176\\n&amp;#x27;, &amp;#x27;Step 177\\n&amp;#x27;, &amp;#x27;Step 178\\n&amp;#x27;, &amp;#x27;Step 179\\n&amp;#x27;, &amp;#x27;Step 180\\n&amp;#x27;, &amp;#x27;Step 181\\n&amp;#x27;, &amp;#x27;Step 182\\n&amp;#x27;, &amp;#x27;Step 183\\n&amp;#x27;, &amp;#x27;Step 184\\n&amp;#x27;, &amp;#x27;Step 185\\n&amp;#x27;, &amp;#x27;Step 186\\n&amp;#x27;, &amp;#x27;Step 187\\n&amp;#x27;, &amp;#x27;Step 188\\n&amp;#x27;, &amp;#x27;Step 189\\n&amp;#x27;, &amp;#x27;Step 190\\n&amp;#x27;, &amp;#x27;Step 191\\n&amp;#x27;, &amp;#x27;Step 192\\n&amp;#x27;, &amp;#x27;Step 193\\n&amp;#x27;, &amp;#x27;Step 194\\n&amp;#x27;, &amp;#x27;Step 195\\n&amp;#x27;, &amp;#x27;Step 196\\n&amp;#x27;, &amp;#x27;Step 197\\n&amp;#x27;, &amp;#x27;Step 198\\n&amp;#x27;, &amp;#x27;Step 199\\n&amp;#x27;]}\n750\n710\n670\n605\nMaking new page\nMaking new page\nMaking new page\nMaking new page\nResponse type: &amp;lt;class &amp;#x27;django.http.response.FileResponse&amp;#x27;&amp;gt;\nNumber of pages made: 5\n&#34;}], &#34;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_with_ai_response&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_with_ai_response&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_download_pdf.py::DownloadPDFTest::test_download_pdf_with_ai_response&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n{&amp;#x27;title&amp;#x27;: &amp;#x27;Delicious Pasta&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;Italian&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;Pasta&amp;#x27;, &amp;#x27;Tomato Sauce&amp;#x27;, &amp;#x27;Basil&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Boil pasta&amp;#x27;, &amp;#x27;Prepare sauce&amp;#x27;, &amp;#x27;Combine and serve&amp;#x27;]}\n750\n710\n670\n605\nResponse type: &amp;lt;class &amp;#x27;django.http.response.FileResponse&amp;#x27;&amp;gt;\n&#34;}], &#34;chef_ai/tests/views/test_logoutUser.py::LogoutUserTestCase::test_logout_user&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_logoutUser.py::LogoutUserTestCase::test_logout_user&#34;, &#34;duration&#34;: &#34;702 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_logoutUser.py::LogoutUserTestCase::test_logout_user&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;702 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;tests.views.test_logoutUser.LogoutUserTestCase testMethod=test_logout_user&amp;gt;\n\n    def test_logout_user(self):\n        # Log the user in\n        self.client.login(username=&amp;#x27;testuser&amp;#x27;, password=&amp;#x27;testing1234&amp;#x27;)\n    \n        # Send a POST request to the logout view and follow the redirect\n        response = self.client.post(reverse(&amp;#x27;logout&amp;#x27;), follow=True)  # follow=True ensures that the redirect is followed\n    \n        # Ensure the response is a redirect (status code 302)\n        self.assertEqual(response.status_code, 200)  # After follow=True, we should get a 200 response at the final destination\n    \n        # Ensure the user is redirected to the index page (check the template used)\n&amp;gt;       self.assertTemplateUsed(response, &amp;#x27;index.html&amp;#x27;)\n\nchef_ai/tests/views/test_logoutUser.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../myenv/lib/python3.10/site-packages/django/test/testcases.py:798: in assertTemplateUsed\n    self._assert_template_used(template_name, template_names, msg_prefix, count)\n../../myenv/lib/python3.10/site-packages/django/test/testcases.py:763: in _assert_template_used\n    self.assertTrue(\nE   AssertionError: False is not true : Template &amp;#x27;index.html&amp;#x27; was not a template used to render the response. Actual template(s) used: landing.html, base.html\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe&#34;, &#34;duration&#34;: &#34;995 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;995 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Simple Pancake  \nCuisine: American  \nTime Required: 20 minutes  \nIngredients:\n- 1 egg\n- 1 cup flour\nUtensils:\n- Bowl\n- Whisk\n- Non-stick pan\nSteps:\n1. In a bowl, crack the egg and whisk it until it&amp;#x27;s well beaten.\n2. Add the flour to the bowl and mix until a smooth batter forms.\n3. Heat a non-stick pan over medium heat.\n4. Pour a small amount of the batter onto the pan and cook until bubbles appear on the surface.\n5. Flip the pancake and cook for another minute, until it&amp;#x27;s golden brown.\n6. Serve the pancake hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Simple Pancake&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;20 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;1 egg&amp;#x27;, &amp;#x27;1 cup flour&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Bowl&amp;#x27;, &amp;#x27;Whisk&amp;#x27;, &amp;#x27;Non-stick pan&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;quot;In a bowl, crack the egg and whisk it until it&amp;#x27;s well beaten.&amp;quot;, &amp;#x27;Add the flour to the bowl and mix until a smooth batter forms.&amp;#x27;, &amp;#x27;Heat a non-stick pan over medium heat.&amp;#x27;, &amp;#x27;Pour a small amount of the batter onto the pan and cook until bubbles appear on the surface.&amp;#x27;, &amp;quot;Flip the pancake and cook for another minute, until it&amp;#x27;s golden brown.&amp;quot;, &amp;#x27;Serve the pancake hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_data_saved_in_session&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_data_saved_in_session&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_data_saved_in_session&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Simple Fried Egg \nCuisine: American \nTime Required: 10 minutes \nIngredients:\n- egg: 2\nUtensils:\n- Non-stick pan\n- Spatula\n- Plate\nSteps:\n1. Crack the eggs into a bowl and whisk them gently to break the yolks.\n2. Heat a non-stick pan over medium heat.\n3. Once the pan is hot, add the eggs to the pan.\n4. Let the eggs cook for about 2-3 minutes or until the whites are set and the yolks are cooked to your desired doneness.\n5. Use a spatula to carefully flip the eggs over and cook for another minute.\n6. Remove the eggs from the pan and place them on a plate.\n7. Serve the fried eggs hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Simple Fried Egg&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;10 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;egg: 2&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Non-stick pan&amp;#x27;, &amp;#x27;Spatula&amp;#x27;, &amp;#x27;Plate&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Crack the eggs into a bowl and whisk them gently to break the yolks.&amp;#x27;, &amp;#x27;Heat a non-stick pan over medium heat.&amp;#x27;, &amp;#x27;Once the pan is hot, add the eggs to the pan.&amp;#x27;, &amp;#x27;Let the eggs cook for about 2-3 minutes or until the whites are set and the yolks are cooked to your desired doneness.&amp;#x27;, &amp;#x27;Use a spatula to carefully flip the eggs over and cook for another minute.&amp;#x27;, &amp;#x27;Remove the eggs from the pan and place them on a plate.&amp;#x27;, &amp;#x27;Serve the fried eggs hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Bacon and Cheese Sandwich \nCuisine: American \nTime Required: 10 minutes \nIngredients:\n- 2 slices of bread\n- 2 slices of bacon\n- 1 slice of cheese\n- salt to taste\nUtensils:\n- Pan\n- Plate\n- Cutting board\n- Knife\nSteps:\n1. Start by cooking the bacon slices in a pan over medium heat until crispy.\n2. Once the bacon is cooked, remove it from the pan and set it aside on a plate.\n3. Place one slice of bread on the cutting board and put a slice of cheese on it.\n4. Add the cooked bacon slices on top of the cheese.\n5. Place the second slice of bread on top to complete the sandwich.\n6. Sprinkle a pinch of salt to taste.\n7. Cut the sandwich using a knife and serve hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Bacon and Cheese Sandwich&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;10 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;2 slices of bread&amp;#x27;, &amp;#x27;2 slices of bacon&amp;#x27;, &amp;#x27;1 slice of cheese&amp;#x27;, &amp;#x27;salt to taste&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Pan&amp;#x27;, &amp;#x27;Plate&amp;#x27;, &amp;#x27;Cutting board&amp;#x27;, &amp;#x27;Knife&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Start by cooking the bacon slices in a pan over medium heat until crispy.&amp;#x27;, &amp;#x27;Once the bacon is cooked, remove it from the pan and set it aside on a plate.&amp;#x27;, &amp;#x27;Place one slice of bread on the cutting board and put a slice of cheese on it.&amp;#x27;, &amp;#x27;Add the cooked bacon slices on top of the cheese.&amp;#x27;, &amp;#x27;Place the second slice of bread on top to complete the sandwich.&amp;#x27;, &amp;#x27;Sprinkle a pinch of salt to taste.&amp;#x27;, &amp;#x27;Cut the sandwich using a knife and serve hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients_and_amounts&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients_and_amounts&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients_and_amounts&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Bacon and Cheese Sandwich \nCuisine: American \nTime Required: 15 minutes \n\nIngredients:\n- bacon: 2 slices\n- cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)\n- bread: 2 slices\n\nUtensils:\n- Pan\n- Cutting board\n- Knife\n- Plate\n\nSteps:\n1. Cut the bread into two slices.\n2. Cut the cheese into two slices.\n3. Cut the bacon into two slices.\n4. Cook the bacon slices in a pan over medium heat until crispy.\n5. Once the bacon is cooked, remove it from the pan and set aside.\n6. Assemble the sandwich by placing a slice of cheese on one slice of bread, then adding two slices of bacon, and finally topping with another slice of cheese and the second slice of bread.\n7. Serve the sandwich hot and enjoy.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Bacon and Cheese Sandwich&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;15 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;bacon: 2 slices&amp;#x27;, &amp;#x27;cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)&amp;#x27;, &amp;#x27;bread: 2 slices&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Pan&amp;#x27;, &amp;#x27;Cutting board&amp;#x27;, &amp;#x27;Knife&amp;#x27;, &amp;#x27;Plate&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Cut the bread into two slices.&amp;#x27;, &amp;#x27;Cut the cheese into two slices.&amp;#x27;, &amp;#x27;Cut the bacon into two slices.&amp;#x27;, &amp;#x27;Cook the bacon slices in a pan over medium heat until crispy.&amp;#x27;, &amp;#x27;Once the bacon is cooked, remove it from the pan and set aside.&amp;#x27;, &amp;#x27;Assemble the sandwich by placing a slice of cheese on one slice of bread, then adding two slices of bacon, and finally topping with another slice of cheese and the second slice of bread.&amp;#x27;, &amp;#x27;Serve the sandwich hot and enjoy.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients_and_amounts_and_many_recipes&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients_and_amounts_and_many_recipes&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_many_ingredients_and_amounts_and_many_recipes&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Bacon and Cheese Sandwich \nCuisine: American \nTime Required: 15 minutes \n\nIngredients:\n- bacon: 2 slices\n- cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)\n- bread: 2 slices\n\nUtensils:\n- Pan\n- Cutting board\n- Knife\n- Plate\n\nSteps:\n1. Cut the bread into two slices.\n2. Cut the cheese into two slices.\n3. Cut the bacon into two slices.\n4. Cook the bacon slices in a pan over medium heat until crispy.\n5. Once the bacon is cooked, remove it from the pan and set aside.\n6. Assemble the sandwich by placing a slice of cheese on one slice of bread, then adding two slices of bacon, and finally topping with another slice of cheese and the second slice of bread.\n7. Serve the sandwich hot and enjoy.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Bacon and Cheese Sandwich&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;15 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;bacon: 2 slices&amp;#x27;, &amp;#x27;cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)&amp;#x27;, &amp;#x27;bread: 2 slices&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Pan&amp;#x27;, &amp;#x27;Cutting board&amp;#x27;, &amp;#x27;Knife&amp;#x27;, &amp;#x27;Plate&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Cut the bread into two slices.&amp;#x27;, &amp;#x27;Cut the cheese into two slices.&amp;#x27;, &amp;#x27;Cut the bacon into two slices.&amp;#x27;, &amp;#x27;Cook the bacon slices in a pan over medium heat until crispy.&amp;#x27;, &amp;#x27;Once the bacon is cooked, remove it from the pan and set aside.&amp;#x27;, &amp;#x27;Assemble the sandwich by placing a slice of cheese on one slice of bread, then adding two slices of bacon, and finally topping with another slice of cheese and the second slice of bread.&amp;#x27;, &amp;#x27;Serve the sandwich hot and enjoy.&amp;#x27;]}\nthe raw output from llm: Title: Bacon and Cheese Omelette  \nCuisine: American  \nTime Required: 10 minutes  \nIngredients:\n- egg: 2\n- bacon: 2 slices\n- cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)\n- salt: a pinch\nUtensils:\n- Pan\n- Cutting board\n- Knife\n- Plate\n- Whisk\nSteps:\n1. Crack the eggs into a bowl and whisk them together with a pinch of salt until well mixed.\n2. Cut the bacon into small pieces and cook in a pan over medium heat until crispy.\n3. Remove the cooked bacon from the pan and set aside.\n4. Pour the egg mixture into the same pan and cook until the edges start to set.\n5. Sprinkle the cooked bacon and cheese slices over half of the omelette.\n6. Use a spatula to gently fold the other half of the omelette over the filling.\n7. Cook for another minute, until the cheese is melted and the eggs are fully cooked.\n8. Slide the omelette out of the pan onto a plate and serve hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Bacon and Cheese Omelette&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;10 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;egg: 2&amp;#x27;, &amp;#x27;bacon: 2 slices&amp;#x27;, &amp;#x27;cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)&amp;#x27;, &amp;#x27;salt: a pinch&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Pan&amp;#x27;, &amp;#x27;Cutting board&amp;#x27;, &amp;#x27;Knife&amp;#x27;, &amp;#x27;Plate&amp;#x27;, &amp;#x27;Whisk&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Crack the eggs into a bowl and whisk them together with a pinch of salt until well mixed.&amp;#x27;, &amp;#x27;Cut the bacon into small pieces and cook in a pan over medium heat until crispy.&amp;#x27;, &amp;#x27;Remove the cooked bacon from the pan and set aside.&amp;#x27;, &amp;#x27;Pour the egg mixture into the same pan and cook until the edges start to set.&amp;#x27;, &amp;#x27;Sprinkle the cooked bacon and cheese slices over half of the omelette.&amp;#x27;, &amp;#x27;Use a spatula to gently fold the other half of the omelette over the filling.&amp;#x27;, &amp;#x27;Cook for another minute, until the cheese is melted and the eggs are fully cooked.&amp;#x27;, &amp;#x27;Slide the omelette out of the pan onto a plate and serve hot.&amp;#x27;]}\nthe raw output from llm: Title: Bacon and Cheese Frittata\nCuisine: American\nTime Required: 20 minutes\nIngredients:\n- egg: 2\n- bacon: 2 slices\n- cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)\n- salt: a pinch\nUtensils:\n- Pan\n- Cutting board\n- Knife\n- Plate\n- Whisk\nSteps:\n1. Preheat the oven to 375\u00b0F (190\u00b0C).\n2. Cut the bacon into small pieces and cook in a pan over medium heat until crispy.\n3. Remove the cooked bacon from the pan and set aside.\n4. Crack the eggs into a bowl and whisk them together with a pinch of salt until well mixed.\n5. Pour the egg mixture into the same pan and cook until the edges start to set.\n6. Sprinkle the cooked bacon and cheese slices over the eggs.\n7. Transfer the pan to the preheated oven and bake for 10-12 minutes, until the eggs are fully cooked and the cheese is melted.\n8. Remove the pan from the oven and let it cool for a minute or two.\n9. Slide the frittata out of the pan onto a plate and serve hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Bacon and Cheese Frittata&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;20 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;egg: 2&amp;#x27;, &amp;#x27;bacon: 2 slices&amp;#x27;, &amp;#x27;cheese: 2 slices (assuming 1lb is 16 slices, 1 slice is 1/16 of 1lb)&amp;#x27;, &amp;#x27;salt: a pinch&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Pan&amp;#x27;, &amp;#x27;Cutting board&amp;#x27;, &amp;#x27;Knife&amp;#x27;, &amp;#x27;Plate&amp;#x27;, &amp;#x27;Whisk&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Preheat the oven to 375\u00b0F (190\u00b0C).&amp;#x27;, &amp;#x27;Cut the bacon into small pieces and cook in a pan over medium heat until crispy.&amp;#x27;, &amp;#x27;Remove the cooked bacon from the pan and set aside.&amp;#x27;, &amp;#x27;Crack the eggs into a bowl and whisk them together with a pinch of salt until well mixed.&amp;#x27;, &amp;#x27;Pour the egg mixture into the same pan and cook until the edges start to set.&amp;#x27;, &amp;#x27;Sprinkle the cooked bacon and cheese slices over the eggs.&amp;#x27;, &amp;#x27;Transfer the pan to the preheated oven and bake for 10-12 minutes, until the eggs are fully cooked and the cheese is melted.&amp;#x27;, &amp;#x27;Remove the pan from the oven and let it cool for a minute or two.&amp;#x27;, &amp;#x27;Slide the frittata out of the pan onto a plate and serve hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_one_ingredient&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_one_ingredient&#34;, &#34;duration&#34;: &#34;903 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_one_ingredient&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;903 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Simple Fried Egg \nCuisine: American \nTime Required: 5 minutes \nIngredients:\n- 1 egg\nUtensils:\n- Non-stick pan\n- Spatula\nSteps:\n1. Crack the egg into a non-stick pan coated with a small amount of oil or cooking spray over medium heat.\n2. Let the egg cook until the whites are set and the yolks are cooked to your desired doneness.\n3. Use a spatula to carefully flip the egg over and cook for another 30 seconds to 1 minute.\n4. Remove the egg from the pan and serve hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Simple Fried Egg&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;5 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;1 egg&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Non-stick pan&amp;#x27;, &amp;#x27;Spatula&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Crack the egg into a non-stick pan coated with a small amount of oil or cooking spray over medium heat.&amp;#x27;, &amp;#x27;Let the egg cook until the whites are set and the yolks are cooked to your desired doneness.&amp;#x27;, &amp;#x27;Use a spatula to carefully flip the egg over and cook for another 30 seconds to 1 minute.&amp;#x27;, &amp;#x27;Remove the egg from the pan and serve hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_one_ingredient_with_qty&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_one_ingredient_with_qty&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_form_post_has_one_ingredient_with_qty&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Simple Fried Egg \nCuisine: American \nTime Required: 10 minutes \nIngredients:\n- egg: 2\nUtensils:\n- Non-stick pan\n- Spatula\n- Plate\nSteps:\n1. Crack the eggs into a bowl and whisk them gently to break the yolks.\n2. Heat a non-stick pan over medium heat.\n3. Once the pan is hot, add the eggs to the pan.\n4. Let the eggs cook for about 2-3 minutes or until the whites are set and the yolks are cooked to your desired doneness.\n5. Use a spatula to carefully flip the eggs over and cook for another minute.\n6. Remove the eggs from the pan and place them on a plate.\n7. Serve the fried eggs hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Simple Fried Egg&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;10 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;egg: 2&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Non-stick pan&amp;#x27;, &amp;#x27;Spatula&amp;#x27;, &amp;#x27;Plate&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Crack the eggs into a bowl and whisk them gently to break the yolks.&amp;#x27;, &amp;#x27;Heat a non-stick pan over medium heat.&amp;#x27;, &amp;#x27;Once the pan is hot, add the eggs to the pan.&amp;#x27;, &amp;#x27;Let the eggs cook for about 2-3 minutes or until the whites are set and the yolks are cooked to your desired doneness.&amp;#x27;, &amp;#x27;Use a spatula to carefully flip the eggs over and cook for another minute.&amp;#x27;, &amp;#x27;Remove the eggs from the pan and place them on a plate.&amp;#x27;, &amp;#x27;Serve the fried eggs hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_status_code_no_post_request&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_status_code_no_post_request&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_post_recipe_view_status_code_no_post_request&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nWARNING  django.request:log.py:248 Bad Request: /chefai/post-recipe/\n\n&#34;}], &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_user_history_gets_saved&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_user_history_gets_saved&#34;, &#34;duration&#34;: &#34;00:00:02&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_post_recipe.py::postRecipeViewTest::test_user_history_gets_saved&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:02&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nthe raw output from llm: Title: Simple Fried Egg \nCuisine: American \nTime Required: 10 minutes \nIngredients:\n- egg: 2\nUtensils:\n- Non-stick pan\n- Spatula\n- Plate\nSteps:\n1. Crack the eggs into a bowl and whisk them gently to break the yolks.\n2. Heat a non-stick pan over medium heat.\n3. Once the pan is hot, add the eggs to the pan.\n4. Let the eggs cook for about 2-3 minutes or until the whites are set and the yolks are cooked to your desired doneness.\n5. Use a spatula to carefully flip the eggs over and cook for another minute.\n6. Remove the eggs from the pan and place them on a plate.\n7. Serve the fried eggs hot.\nInside feedLLM Parsed data: {&amp;#x27;title&amp;#x27;: &amp;#x27;Simple Fried Egg&amp;#x27;, &amp;#x27;cuisine&amp;#x27;: &amp;#x27;American&amp;#x27;, &amp;#x27;time&amp;#x27;: &amp;#x27;10 minutes&amp;#x27;, &amp;#x27;ingredients&amp;#x27;: [&amp;#x27;egg: 2&amp;#x27;], &amp;#x27;utensils&amp;#x27;: [&amp;#x27;Non-stick pan&amp;#x27;, &amp;#x27;Spatula&amp;#x27;, &amp;#x27;Plate&amp;#x27;], &amp;#x27;steps&amp;#x27;: [&amp;#x27;Crack the eggs into a bowl and whisk them gently to break the yolks.&amp;#x27;, &amp;#x27;Heat a non-stick pan over medium heat.&amp;#x27;, &amp;#x27;Once the pan is hot, add the eggs to the pan.&amp;#x27;, &amp;#x27;Let the eggs cook for about 2-3 minutes or until the whites are set and the yolks are cooked to your desired doneness.&amp;#x27;, &amp;#x27;Use a spatula to carefully flip the eggs over and cook for another minute.&amp;#x27;, &amp;#x27;Remove the eggs from the pan and place them on a plate.&amp;#x27;, &amp;#x27;Serve the fried eggs hot.&amp;#x27;]}\n&#34;}], &#34;chef_ai/tests/views/test_response_recipe.py::response_recipeTest::test_get_response_from_session&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_response_recipe.py::response_recipeTest::test_get_response_from_session&#34;, &#34;duration&#34;: &#34;15 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_response_recipe.py::response_recipeTest::test_get_response_from_session&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;15 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;tests.views.test_response_recipe.response_recipeTest testMethod=test_get_response_from_session&amp;gt;\n\n    def test_get_response_from_session(self):\n        session = self.client.session\n        session[&amp;#x27;selected_options&amp;#x27;] = [&amp;#x27;option1&amp;#x27;, &amp;#x27;option2&amp;#x27;]\n        session[&amp;#x27;ai_response&amp;#x27;] = &amp;#x27;Here is the AI-generated recipe&amp;#x27;\n        session.save()\n    \n        # Now send the request\n        response = self.client.get(reverse(&amp;#x27;response_recipe&amp;#x27;))\n    \n        # Ensure correct response\n        self.assertEqual(response.status_code, 200)\n    \n        # Confirm context contains expected data\n        self.assertIn(&amp;#x27;selected_options&amp;#x27;, response.context)\n&amp;gt;       self.assertIn(&amp;#x27;ai_response&amp;#x27;, response.context)\nE       AssertionError: &amp;#x27;ai_response&amp;#x27; not found in [[{&amp;#x27;True&amp;#x27;: True, &amp;#x27;False&amp;#x27;: False, &amp;#x27;None&amp;#x27;: None}, {&amp;#x27;csrf_token&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;function csrf.&amp;lt;locals&amp;gt;._get_val at 0x7f35b459d630&amp;gt;&amp;gt;, &amp;#x27;request&amp;#x27;: &amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;, &amp;#x27;user&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b4522da0&amp;gt;&amp;gt;, &amp;#x27;perms&amp;#x27;: PermWrapper(&amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b4522da0&amp;gt;&amp;gt;), &amp;#x27;messages&amp;#x27;: &amp;lt;FallbackStorage: request=&amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;&amp;gt;, &amp;#x27;DEFAULT_MESSAGE_LEVELS&amp;#x27;: {&amp;#x27;DEBUG&amp;#x27;: 10, &amp;#x27;INFO&amp;#x27;: 20, &amp;#x27;SUCCESS&amp;#x27;: 25, &amp;#x27;WARNING&amp;#x27;: 30, &amp;#x27;ERROR&amp;#x27;: 40}}, {}, {&amp;#x27;selected_options&amp;#x27;: [&amp;#x27;option1&amp;#x27;, &amp;#x27;option2&amp;#x27;], &amp;#x27;ai_responses&amp;#x27;: &amp;#x27;Here is the AI-generated recipe&amp;#x27;}], [{&amp;#x27;True&amp;#x27;: True, &amp;#x27;False&amp;#x27;: False, &amp;#x27;None&amp;#x27;: None}, {&amp;#x27;csrf_token&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;function csrf.&amp;lt;locals&amp;gt;._get_val at 0x7f35b459d630&amp;gt;&amp;gt;, &amp;#x27;request&amp;#x27;: &amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;, &amp;#x27;user&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b4522da0&amp;gt;&amp;gt;, &amp;#x27;perms&amp;#x27;: PermWrapper(&amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b4522da0&amp;gt;&amp;gt;), &amp;#x27;messages&amp;#x27;: &amp;lt;FallbackStorage: request=&amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;&amp;gt;, &amp;#x27;DEFAULT_MESSAGE_LEVELS&amp;#x27;: {&amp;#x27;DEBUG&amp;#x27;: 10, &amp;#x27;INFO&amp;#x27;: 20, &amp;#x27;SUCCESS&amp;#x27;: 25, &amp;#x27;WARNING&amp;#x27;: 30, &amp;#x27;ERROR&amp;#x27;: 40}}, {}, {&amp;#x27;selected_options&amp;#x27;: [&amp;#x27;option1&amp;#x27;, &amp;#x27;option2&amp;#x27;], &amp;#x27;ai_responses&amp;#x27;: &amp;#x27;Here is the AI-generated recipe&amp;#x27;}]]\n\nchef_ai/tests/views/test_response_recipe.py:22: AssertionError\n\n----------------------------- Captured stdout call -----------------------------\nlist_of_recipes view was hit [&amp;#x27;option1&amp;#x27;, &amp;#x27;option2&amp;#x27;]\n&#34;}], &#34;chef_ai/tests/views/test_response_recipe.py::response_recipeTest::test_response_recipe_without_session_data&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_response_recipe.py::response_recipeTest::test_response_recipe_without_session_data&#34;, &#34;duration&#34;: &#34;4 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_response_recipe.py::response_recipeTest::test_response_recipe_without_session_data&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;4 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;tests.views.test_response_recipe.response_recipeTest testMethod=test_response_recipe_without_session_data&amp;gt;\n\n    def test_response_recipe_without_session_data(self):\n        # Send a GET request to the response_recipe view without setting session data\n        response = self.client.get(reverse(&amp;#x27;response_recipe&amp;#x27;))  # Replace with the correct URL name\n    \n        # Check that the response status code is 200 (OK)\n        self.assertEqual(response.status_code, 200)\n    \n        # Check that the context variables are set to default values\n        self.assertIn(&amp;#x27;selected_options&amp;#x27;, response.context)\n&amp;gt;       self.assertIn(&amp;#x27;ai_response&amp;#x27;, response.context)\nE       AssertionError: &amp;#x27;ai_response&amp;#x27; not found in [[{&amp;#x27;True&amp;#x27;: True, &amp;#x27;False&amp;#x27;: False, &amp;#x27;None&amp;#x27;: None}, {&amp;#x27;csrf_token&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;function csrf.&amp;lt;locals&amp;gt;._get_val at 0x7f35b459dd80&amp;gt;&amp;gt;, &amp;#x27;request&amp;#x27;: &amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;, &amp;#x27;user&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b45380a0&amp;gt;&amp;gt;, &amp;#x27;perms&amp;#x27;: PermWrapper(&amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b45380a0&amp;gt;&amp;gt;), &amp;#x27;messages&amp;#x27;: &amp;lt;FallbackStorage: request=&amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;&amp;gt;, &amp;#x27;DEFAULT_MESSAGE_LEVELS&amp;#x27;: {&amp;#x27;DEBUG&amp;#x27;: 10, &amp;#x27;INFO&amp;#x27;: 20, &amp;#x27;SUCCESS&amp;#x27;: 25, &amp;#x27;WARNING&amp;#x27;: 30, &amp;#x27;ERROR&amp;#x27;: 40}}, {}, {&amp;#x27;selected_options&amp;#x27;: [], &amp;#x27;ai_responses&amp;#x27;: []}], [{&amp;#x27;True&amp;#x27;: True, &amp;#x27;False&amp;#x27;: False, &amp;#x27;None&amp;#x27;: None}, {&amp;#x27;csrf_token&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;function csrf.&amp;lt;locals&amp;gt;._get_val at 0x7f35b459dd80&amp;gt;&amp;gt;, &amp;#x27;request&amp;#x27;: &amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;, &amp;#x27;user&amp;#x27;: &amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b45380a0&amp;gt;&amp;gt;, &amp;#x27;perms&amp;#x27;: PermWrapper(&amp;lt;SimpleLazyObject: &amp;lt;django.contrib.auth.models.AnonymousUser object at 0x7f35b45380a0&amp;gt;&amp;gt;), &amp;#x27;messages&amp;#x27;: &amp;lt;FallbackStorage: request=&amp;lt;WSGIRequest: GET &amp;#x27;/chefai/recipe/&amp;#x27;&amp;gt;&amp;gt;, &amp;#x27;DEFAULT_MESSAGE_LEVELS&amp;#x27;: {&amp;#x27;DEBUG&amp;#x27;: 10, &amp;#x27;INFO&amp;#x27;: 20, &amp;#x27;SUCCESS&amp;#x27;: 25, &amp;#x27;WARNING&amp;#x27;: 30, &amp;#x27;ERROR&amp;#x27;: 40}}, {}, {&amp;#x27;selected_options&amp;#x27;: [], &amp;#x27;ai_responses&amp;#x27;: []}]]\n\nchef_ai/tests/views/test_response_recipe.py:37: AssertionError\n\n----------------------------- Captured stdout call -----------------------------\nlist_of_recipes view was hit []\n&#34;}], &#34;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients&#34;, &#34;duration&#34;: &#34;3 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;3 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients_no_match&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients_no_match&#34;, &#34;duration&#34;: &#34;3 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients_no_match&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;3 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients_empty_query&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients_empty_query&#34;, &#34;duration&#34;: &#34;9 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_search_ingredients.py::test_search_ingredients_empty_query&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;9 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration&#34;, &#34;duration&#34;: &#34;357 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;357 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration_get&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration_get&#34;, &#34;duration&#34;: &#34;13 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration_get&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;13 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration_invalid_data&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration_invalid_data&#34;, &#34;duration&#34;: &#34;8 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;chef_ai/tests/views/test_user_registration.py::UserRegistrationTests::test_user_registration_invalid_data&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;8 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}]}, &#34;renderCollapsed&#34;: [&#34;passed&#34;], &#34;initialSort&#34;: &#34;result&#34;, &#34;title&#34;: &#34;tests_report.html&#34;}"></div>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const { getCollapsedCategory, setCollapsedIds } = require('./storage.js')

class DataManager {
    setManager(data) {
        const collapsedCategories = [...getCollapsedCategory(data.renderCollapsed)]
        const collapsedIds = []
        const tests = Object.values(data.tests).flat().map((test, index) => {
            const collapsed = collapsedCategories.includes(test.result.toLowerCase())
            const id = `test_${index}`
            if (collapsed) {
                collapsedIds.push(id)
            }
            return {
                ...test,
                id,
                collapsed,
            }
        })
        const dataBlob = { ...data, tests }
        this.data = { ...dataBlob }
        this.renderData = { ...dataBlob }
        setCollapsedIds(collapsedIds)
    }

    get allData() {
        return { ...this.data }
    }

    resetRender() {
        this.renderData = { ...this.data }
    }

    setRender(data) {
        this.renderData.tests = [...data]
    }

    toggleCollapsedItem(id) {
        this.renderData.tests = this.renderData.tests.map((test) =>
            test.id === id ? { ...test, collapsed: !test.collapsed } : test,
        )
    }

    set allCollapsed(collapsed) {
        this.renderData = { ...this.renderData, tests: [...this.renderData.tests.map((test) => (
            { ...test, collapsed }
        ))] }
    }

    get testSubset() {
        return [...this.renderData.tests]
    }

    get environment() {
        return this.renderData.environment
    }

    get initialSort() {
        return this.data.initialSort
    }
}

module.exports = {
    manager: new DataManager(),
}

},{"./storage.js":8}],2:[function(require,module,exports){
const mediaViewer = require('./mediaviewer.js')
const templateEnvRow = document.getElementById('template_environment_row')
const templateResult = document.getElementById('template_results-table__tbody')

function htmlToElements(html) {
    const temp = document.createElement('template')
    temp.innerHTML = html
    return temp.content.childNodes
}

const find = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return elem.querySelector(selector)
}

const findAll = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return [...elem.querySelectorAll(selector)]
}

const dom = {
    getStaticRow: (key, value) => {
        const envRow = templateEnvRow.content.cloneNode(true)
        const isObj = typeof value === 'object' && value !== null
        const values = isObj ? Object.keys(value).map((k) => `${k}: ${value[k]}`) : null

        const valuesElement = htmlToElements(
            values ? `<ul>${values.map((val) => `<li>${val}</li>`).join('')}<ul>` : `<div>${value}</div>`)[0]
        const td = findAll('td', envRow)
        td[0].textContent = key
        td[1].appendChild(valuesElement)

        return envRow
    },
    getResultTBody: ({ testId, id, log, extras, resultsTableRow, tableHtml, result, collapsed }) => {
        const resultBody = templateResult.content.cloneNode(true)
        resultBody.querySelector('tbody').classList.add(result.toLowerCase())
        resultBody.querySelector('tbody').id = testId
        resultBody.querySelector('.collapsible').dataset.id = id

        resultsTableRow.forEach((html) => {
            const t = document.createElement('template')
            t.innerHTML = html
            resultBody.querySelector('.collapsible').appendChild(t.content)
        })

        if (log) {
            // Wrap lines starting with "E" with span.error to color those lines red
            const wrappedLog = log.replace(/^E.*$/gm, (match) => `<span class="error">${match}</span>`)
            resultBody.querySelector('.log').innerHTML = wrappedLog
        } else {
            resultBody.querySelector('.log').remove()
        }

        if (collapsed) {
            resultBody.querySelector('.collapsible > td')?.classList.add('collapsed')
            resultBody.querySelector('.extras-row').classList.add('hidden')
        } else {
            resultBody.querySelector('.collapsible > td')?.classList.remove('collapsed')
        }

        const media = []
        extras?.forEach(({ name, format_type, content }) => {
            if (['image', 'video'].includes(format_type)) {
                media.push({ path: content, name, format_type })
            }

            if (format_type === 'html') {
                resultBody.querySelector('.extraHTML').insertAdjacentHTML('beforeend', `<div>${content}</div>`)
            }
        })
        mediaViewer.setup(resultBody, media)

        // Add custom html from the pytest_html_results_table_html hook
        tableHtml?.forEach((item) => {
            resultBody.querySelector('td[class="extra"]').insertAdjacentHTML('beforeend', item)
        })

        return resultBody
    },
}

module.exports = {
    dom,
    htmlToElements,
    find,
    findAll,
}

},{"./mediaviewer.js":6}],3:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const storageModule = require('./storage.js')

const getFilteredSubSet = (filter) =>
    manager.allData.tests.filter(({ result }) => filter.includes(result.toLowerCase()))

const doInitFilter = () => {
    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)
}

const doFilter = (type, show) => {
    if (show) {
        storageModule.showCategory(type)
    } else {
        storageModule.hideCategory(type)
    }

    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)

    const sortColumn = storageModule.getSort()
    doSort(sortColumn, true)
}

module.exports = {
    doFilter,
    doInitFilter,
}

},{"./datamanager.js":1,"./sort.js":7,"./storage.js":8}],4:[function(require,module,exports){
const { redraw, bindEvents, renderStatic } = require('./main.js')
const { doInitFilter } = require('./filter.js')
const { doInitSort } = require('./sort.js')
const { manager } = require('./datamanager.js')
const data = JSON.parse(document.getElementById('data-container').dataset.jsonblob)

function init() {
    manager.setManager(data)
    doInitFilter()
    doInitSort()
    renderStatic()
    redraw()
    bindEvents()
}

init()

},{"./datamanager.js":1,"./filter.js":3,"./main.js":5,"./sort.js":7}],5:[function(require,module,exports){
const { dom, find, findAll } = require('./dom.js')
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const { doFilter } = require('./filter.js')
const {
    getVisible,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    getSortDirection,
    possibleFilters,
} = require('./storage.js')

const removeChildren = (node) => {
    while (node.firstChild) {
        node.removeChild(node.firstChild)
    }
}

const renderStatic = () => {
    const renderEnvironmentTable = () => {
        const environment = manager.environment
        const rows = Object.keys(environment).map((key) => dom.getStaticRow(key, environment[key]))
        const table = document.getElementById('environment')
        removeChildren(table)
        rows.forEach((row) => table.appendChild(row))
    }
    renderEnvironmentTable()
}

const addItemToggleListener = (elem) => {
    elem.addEventListener('click', ({ target }) => {
        const id = target.parentElement.dataset.id
        manager.toggleCollapsedItem(id)

        const collapsedIds = getCollapsedIds()
        if (collapsedIds.includes(id)) {
            const updated = collapsedIds.filter((item) => item !== id)
            setCollapsedIds(updated)
        } else {
            collapsedIds.push(id)
            setCollapsedIds(collapsedIds)
        }
        redraw()
    })
}

const renderContent = (tests) => {
    const sortAttr = getSort(manager.initialSort)
    const sortAsc = JSON.parse(getSortDirection())
    const rows = tests.map(dom.getResultTBody)
    const table = document.getElementById('results-table')
    const tableHeader = document.getElementById('results-table-head')

    const newTable = document.createElement('table')
    newTable.id = 'results-table'

    // remove all sorting classes and set the relevant
    findAll('.sortable', tableHeader).forEach((elem) => elem.classList.remove('asc', 'desc'))
    tableHeader.querySelector(`.sortable[data-column-type="${sortAttr}"]`)?.classList.add(sortAsc ? 'desc' : 'asc')
    newTable.appendChild(tableHeader)

    if (!rows.length) {
        const emptyTable = document.getElementById('template_results-table__body--empty').content.cloneNode(true)
        newTable.appendChild(emptyTable)
    } else {
        rows.forEach((row) => {
            if (!!row) {
                findAll('.collapsible td:not(.col-links', row).forEach(addItemToggleListener)
                find('.logexpander', row).addEventListener('click',
                    (evt) => evt.target.parentNode.classList.toggle('expanded'),
                )
                newTable.appendChild(row)
            }
        })
    }

    table.replaceWith(newTable)
}

const renderDerived = () => {
    const currentFilter = getVisible()
    possibleFilters.forEach((result) => {
        const input = document.querySelector(`input[data-test-result="${result}"]`)
        input.checked = currentFilter.includes(result)
    })
}

const bindEvents = () => {
    const filterColumn = (evt) => {
        const { target: element } = evt
        const { testResult } = element.dataset

        doFilter(testResult, element.checked)
        const collapsedIds = getCollapsedIds()
        const updated = manager.renderData.tests.map((test) => {
            return {
                ...test,
                collapsed: collapsedIds.includes(test.id),
            }
        })
        manager.setRender(updated)
        redraw()
    }

    const header = document.getElementById('environment-header')
    header.addEventListener('click', () => {
        const table = document.getElementById('environment')
        table.classList.toggle('hidden')
        header.classList.toggle('collapsed')
    })

    findAll('input[name="filter_checkbox"]').forEach((elem) => {
        elem.addEventListener('click', filterColumn)
    })

    findAll('.sortable').forEach((elem) => {
        elem.addEventListener('click', (evt) => {
            const { target: element } = evt
            const { columnType } = element.dataset
            doSort(columnType)
            redraw()
        })
    })

    document.getElementById('show_all_details').addEventListener('click', () => {
        manager.allCollapsed = false
        setCollapsedIds([])
        redraw()
    })
    document.getElementById('hide_all_details').addEventListener('click', () => {
        manager.allCollapsed = true
        const allIds = manager.renderData.tests.map((test) => test.id)
        setCollapsedIds(allIds)
        redraw()
    })
}

const redraw = () => {
    const { testSubset } = manager

    renderContent(testSubset)
    renderDerived()
}

module.exports = {
    redraw,
    bindEvents,
    renderStatic,
}

},{"./datamanager.js":1,"./dom.js":2,"./filter.js":3,"./sort.js":7,"./storage.js":8}],6:[function(require,module,exports){
class MediaViewer {
    constructor(assets) {
        this.assets = assets
        this.index = 0
    }

    nextActive() {
        this.index = this.index === this.assets.length - 1 ? 0 : this.index + 1
        return [this.activeFile, this.index]
    }

    prevActive() {
        this.index = this.index === 0 ? this.assets.length - 1 : this.index -1
        return [this.activeFile, this.index]
    }

    get currentIndex() {
        return this.index
    }

    get activeFile() {
        return this.assets[this.index]
    }
}


const setup = (resultBody, assets) => {
    if (!assets.length) {
        resultBody.querySelector('.media').classList.add('hidden')
        return
    }

    const mediaViewer = new MediaViewer(assets)
    const container = resultBody.querySelector('.media-container')
    const leftArrow = resultBody.querySelector('.media-container__nav--left')
    const rightArrow = resultBody.querySelector('.media-container__nav--right')
    const mediaName = resultBody.querySelector('.media__name')
    const counter = resultBody.querySelector('.media__counter')
    const imageEl = resultBody.querySelector('img')
    const sourceEl = resultBody.querySelector('source')
    const videoEl = resultBody.querySelector('video')

    const setImg = (media, index) => {
        if (media?.format_type === 'image') {
            imageEl.src = media.path

            imageEl.classList.remove('hidden')
            videoEl.classList.add('hidden')
        } else if (media?.format_type === 'video') {
            sourceEl.src = media.path

            videoEl.classList.remove('hidden')
            imageEl.classList.add('hidden')
        }

        mediaName.innerText = media?.name
        counter.innerText = `${index + 1} / ${assets.length}`
    }
    setImg(mediaViewer.activeFile, mediaViewer.currentIndex)

    const moveLeft = () => {
        const [media, index] = mediaViewer.prevActive()
        setImg(media, index)
    }
    const doRight = () => {
        const [media, index] = mediaViewer.nextActive()
        setImg(media, index)
    }
    const openImg = () => {
        window.open(mediaViewer.activeFile.path, '_blank')
    }
    if (assets.length === 1) {
        container.classList.add('media-container--fullscreen')
    } else {
        leftArrow.addEventListener('click', moveLeft)
        rightArrow.addEventListener('click', doRight)
    }
    imageEl.addEventListener('click', openImg)
}

module.exports = {
    setup,
}

},{}],7:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const storageModule = require('./storage.js')

const genericSort = (list, key, ascending, customOrder) => {
    let sorted
    if (customOrder) {
        sorted = list.sort((a, b) => {
            const aValue = a.result.toLowerCase()
            const bValue = b.result.toLowerCase()

            const aIndex = customOrder.findIndex((item) => item.toLowerCase() === aValue)
            const bIndex = customOrder.findIndex((item) => item.toLowerCase() === bValue)

            // Compare the indices to determine the sort order
            return aIndex - bIndex
        })
    } else {
        sorted = list.sort((a, b) => a[key] === b[key] ? 0 : a[key] > b[key] ? 1 : -1)
    }

    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const durationSort = (list, ascending) => {
    const parseDuration = (duration) => {
        if (duration.includes(':')) {
            // If it's in the format "HH:mm:ss"
            const [hours, minutes, seconds] = duration.split(':').map(Number)
            return (hours * 3600 + minutes * 60 + seconds) * 1000
        } else {
            // If it's in the format "nnn ms"
            return parseInt(duration)
        }
    }
    const sorted = list.sort((a, b) => parseDuration(a['duration']) - parseDuration(b['duration']))
    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const doInitSort = () => {
    const type = storageModule.getSort(manager.initialSort)
    const ascending = storageModule.getSortDirection()
    const list = manager.testSubset
    const initialOrder = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed', 'Skipped', 'Passed']

    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    if (type?.toLowerCase() === 'original') {
        manager.setRender(list)
    } else {
        let sortedList
        switch (type) {
        case 'duration':
            sortedList = durationSort(list, ascending)
            break
        case 'result':
            sortedList = genericSort(list, type, ascending, initialOrder)
            break
        default:
            sortedList = genericSort(list, type, ascending)
            break
        }
        manager.setRender(sortedList)
    }
}

const doSort = (type, skipDirection) => {
    const newSortType = storageModule.getSort(manager.initialSort) !== type
    const currentAsc = storageModule.getSortDirection()
    let ascending
    if (skipDirection) {
        ascending = currentAsc
    } else {
        ascending = newSortType ? false : !currentAsc
    }
    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    const list = manager.testSubset
    const sortedList = type === 'duration' ? durationSort(list, ascending) : genericSort(list, type, ascending)
    manager.setRender(sortedList)
}

module.exports = {
    doInitSort,
    doSort,
}

},{"./datamanager.js":1,"./storage.js":8}],8:[function(require,module,exports){
const possibleFilters = [
    'passed',
    'skipped',
    'failed',
    'error',
    'xfailed',
    'xpassed',
    'rerun',
]

const getVisible = () => {
    const url = new URL(window.location.href)
    const settings = new URLSearchParams(url.search).get('visible')
    const lower = (item) => {
        const lowerItem = item.toLowerCase()
        if (possibleFilters.includes(lowerItem)) {
            return lowerItem
        }
        return null
    }
    return settings === null ?
        possibleFilters :
        [...new Set(settings?.split(',').map(lower).filter((item) => item))]
}

const hideCategory = (categoryToHide) => {
    const url = new URL(window.location.href)
    const visibleParams = new URLSearchParams(url.search).get('visible')
    const currentVisible = visibleParams ? visibleParams.split(',') : [...possibleFilters]
    const settings = [...new Set(currentVisible)].filter((f) => f !== categoryToHide).join(',')

    url.searchParams.set('visible', settings)
    window.history.pushState({}, null, unescape(url.href))
}

const showCategory = (categoryToShow) => {
    if (typeof window === 'undefined') {
        return
    }
    const url = new URL(window.location.href)
    const currentVisible = new URLSearchParams(url.search).get('visible')?.split(',').filter(Boolean) ||
        [...possibleFilters]
    const settings = [...new Set([categoryToShow, ...currentVisible])]
    const noFilter = possibleFilters.length === settings.length || !settings.length

    noFilter ? url.searchParams.delete('visible') : url.searchParams.set('visible', settings.join(','))
    window.history.pushState({}, null, unescape(url.href))
}

const getSort = (initialSort) => {
    const url = new URL(window.location.href)
    let sort = new URLSearchParams(url.search).get('sort')
    if (!sort) {
        sort = initialSort || 'result'
    }
    return sort
}

const setSort = (type) => {
    const url = new URL(window.location.href)
    url.searchParams.set('sort', type)
    window.history.pushState({}, null, unescape(url.href))
}

const getCollapsedCategory = (renderCollapsed) => {
    let categories
    if (typeof window !== 'undefined') {
        const url = new URL(window.location.href)
        const collapsedItems = new URLSearchParams(url.search).get('collapsed')
        switch (true) {
        case !renderCollapsed && collapsedItems === null:
            categories = ['passed']
            break
        case collapsedItems?.length === 0 || /^["']{2}$/.test(collapsedItems):
            categories = []
            break
        case /^all$/.test(collapsedItems) || collapsedItems === null && /^all$/.test(renderCollapsed):
            categories = [...possibleFilters]
            break
        default:
            categories = collapsedItems?.split(',').map((item) => item.toLowerCase()) || renderCollapsed
            break
        }
    } else {
        categories = []
    }
    return categories
}

const getSortDirection = () => JSON.parse(sessionStorage.getItem('sortAsc')) || false
const setSortDirection = (ascending) => sessionStorage.setItem('sortAsc', ascending)

const getCollapsedIds = () => JSON.parse(sessionStorage.getItem('collapsedIds')) || []
const setCollapsedIds = (list) => sessionStorage.setItem('collapsedIds', JSON.stringify(list))

module.exports = {
    getVisible,
    hideCategory,
    showCategory,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    setSort,
    getSortDirection,
    setSortDirection,
    getCollapsedCategory,
    possibleFilters,
}

},{}]},{},[4]);
    </script>
  </footer>
</html>